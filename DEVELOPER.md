# Developer Documentation

This document provides guidelines for developers working on the Taskip Comparison plugin, with a focus on maintaining styling consistency across all blocks.

## Table of Contents

1. [Styling Architecture](#styling-architecture)
2. [Maintaining Consistency](#maintaining-consistency)
3. [Common Style Patterns](#common-style-patterns)
4. [Modifying Block Styles](#modifying-block-styles)
5. [Adding New Blocks](#adding-new-blocks)
6. [Best Practices](#best-practices)

---

## Styling Architecture

### CSS Organization

Each block has three CSS files:

1. **`style.css`**: Frontend styles (loaded on both editor and frontend)
2. **`editor.css`**: Editor-only styles (loaded only in block editor)
3. **`build/index.css`**: Compiled styles (auto-generated by webpack)

### Class Naming Convention

All CSS classes use the `tascom-` prefix (Taskip Comparison) to avoid conflicts with themes and other plugins.

**Example:**
```css
/* ‚úÖ CORRECT */
.tascom-hero { }
.tascom-pricing-card { }
.tascom-feature-table { }

/* ‚ùå INCORRECT */
.hero { }
.pricing-card { }
.feature-table { }
```

---

## Maintaining Consistency

### Global Styling Variables

To maintain consistency across all blocks when used together on the same page, we use consistent values for:

#### Colors

**Primary Colors:**
```css
/* Primary Blue */
--primary-blue: #2563eb;
--primary-blue-light: #3b82f6;

/* Green (Success/Savings) */
--success-green: #10b981;
--success-green-light: #059669;
--success-bg: #dcfce7;

/* Gray Tones */
--gray-50: #f8fafc;
--gray-100: #f3f4f6;
--gray-200: #e5e7eb;
--gray-400: #9ca3af;
--gray-600: #64748b;
--gray-800: #1f2937;
--gray-900: #111827;

/* Red (Error/Cross) */
--error-red: #ef4444;

/* Orange (Limited) */
--limited-orange: #f59e0b;

/* Purple (Coming Soon) */
--coming-purple: #8b5cf6;

/* Pink (Paid) */
--paid-pink: #ec4899;
```

#### Typography

**Font Family:**
```css
/* Primary Font (from Google Fonts) */
--font-serif: 'Instrument Serif', Georgia, serif;

/* System Font Stack (fallback) */
--font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
```

**Font Sizes:**
```css
/* Section Headers */
--text-eyebrow: 12px;        /* Uppercase labels */
--text-base: 15px;           /* Body text */
--text-lg: 18px;             /* Large body */
--text-xl: 20px;             /* Subheadings */
--text-2xl: 28px;            /* Section titles */
--text-3xl: 36px;            /* Hero titles */
--text-4xl: 48px;            /* Large hero titles */

/* Special Sizes */
--badge-text: 10px;          /* Small badges */
--price-text: 18px;          /* Prices */
```

**Line Heights:**
```css
--leading-tight: 1.25;
--leading-normal: 1.5;
--leading-relaxed: 1.6;
--leading-loose: 1.8;
```

#### Spacing

**Container Padding:**
```css
--container-padding: 64px 24px;

/* Responsive */
@media (max-width: 768px) {
  --container-padding: 48px 16px;
}
```

**Section Spacing:**
```css
/* Vertical spacing between sections */
--section-spacing: 80px;

@media (max-width: 768px) {
  --section-spacing: 48px;
}
```

**Component Spacing:**
```css
--spacing-xs: 8px;
--spacing-sm: 12px;
--spacing-md: 16px;
--spacing-lg: 20px;
--spacing-xl: 24px;
--spacing-2xl: 32px;
--spacing-3xl: 48px;
```

#### Border Radius

```css
--radius-sm: 4px;     /* Badges, small buttons */
--radius-md: 8px;     /* Cards, inputs */
--radius-lg: 12px;    /* Large cards */
--radius-xl: 16px;    /* Hero sections */
```

#### Shadows

```css
--shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
--shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
--shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
```

---

## Common Style Patterns

### Section Header Pattern

**Used in**: All blocks with section headers

**HTML Structure:**
```html
<div class="section-header center">
  <p class="section-eyebrow">EYEBROW TEXT</p>
  <h2 class="section-title">Section Title</h2>
  <p class="section-desc">Description text goes here.</p>
</div>
```

**CSS:**
```css
.section-header {
  margin-bottom: 48px;
}

.section-header.center {
  text-align: center;
}

.section-eyebrow {
  font-size: 12px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 1px;
  color: #6b7280;
  margin-bottom: 12px;
}

.section-title {
  font-size: 36px;
  font-weight: 700;
  line-height: 1.2;
  margin-bottom: 16px;
  font-family: 'Instrument Serif', Georgia, serif;
}

.section-desc {
  font-size: 18px;
  line-height: 1.6;
  color: #64748b;
  max-width: 800px;
  margin: 0 auto;
}
```

### Container Pattern

**Used in**: All blocks

```css
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 24px;
}

@media (max-width: 768px) {
  .container {
    padding: 0 16px;
  }
}
```

### Badge Pattern

**Used in**: Highlights, Feature Comparison, Pricing Scale

```css
.badge {
  display: inline-block;
  padding: 4px 12px;
  border-radius: 4px;
  font-size: 10px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.badge-success {
  background: #dcfce7;
  color: #166534;
}

.badge-limited {
  background: #f59e0b;
  color: #fff;
}

.badge-coming-soon {
  background: #8b5cf6;
  color: #fff;
}

.badge-paid {
  background: #ec4899;
  color: #fff;
}
```

### Card Pattern

**Used in**: Highlights, Pricing Scale, AI Comparison

```css
.card {
  background: #fff;
  border: 1px solid #e5e7eb;
  border-radius: 8px;
  padding: 28px;
  transition: all 0.3s ease;
}

.card:hover {
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.card.featured {
  border: 2px solid #2563eb;
  position: relative;
}
```

### Grid Pattern

**Used in**: Pricing Scale, Highlights

```css
.grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 20px;
}

@media (max-width: 1024px) {
  .grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 640px) {
  .grid {
    grid-template-columns: 1fr;
  }
}
```

---

## Modifying Block Styles

### Step-by-Step Guide

#### 1. Locate the Block's CSS File

```bash
blocks/
‚îî‚îÄ‚îÄ [block-name]/
    ‚îú‚îÄ‚îÄ style.css       # Edit this for frontend changes
    ‚îú‚îÄ‚îÄ editor.css      # Edit this for editor-only changes
    ‚îî‚îÄ‚îÄ build/          # Don't edit - auto-generated
```

#### 2. Make Your Changes

**Example: Changing pricing card padding**

Edit `blocks/pricing-scale/style.css`:

```css
/* BEFORE */
.pricing-card {
  padding: 28px;
}

/* AFTER */
.pricing-card {
  padding: 32px;
}
```

#### 3. Rebuild the Block

```bash
# Rebuild specific block
npm run build:scale

# Or rebuild all blocks
npm run build
```

#### 4. Clear Cache and Test

- Clear browser cache
- Hard refresh (Cmd+Shift+R / Ctrl+Shift+F5)
- Test on both editor and frontend

---

## Making Consistent Changes Across Multiple Blocks

### Example: Updating Section Header Spacing

If you want to change section header spacing across **all blocks**:

#### Files to Edit:

1. `blocks/hero-comparison/style.css`
2. `blocks/trust-bar/style.css`
3. `blocks/verdict/style.css`
4. `blocks/migration/style.css`
5. `blocks/ai-comparison/style.css`
6. `blocks/highlights/style.css`
7. `blocks/pricing-comparison/style.css`
8. `blocks/feature-comparison/style.css`
9. `blocks/pricing-scale/style.css`

#### Change:

```css
/* In each block's style.css */

/* BEFORE */
.section-header {
  margin-bottom: 48px;
}

/* AFTER */
.section-header {
  margin-bottom: 64px;
}
```

#### Rebuild All:

```bash
npm run build
```

### Automated Approach (Using Find & Replace)

**Using VS Code:**

1. Open Find & Replace (Cmd+Shift+H / Ctrl+Shift+H)
2. Search in: `blocks/**/style.css`
3. Find: `margin-bottom: 48px;`
4. Replace: `margin-bottom: 64px;`
5. Click "Replace All"
6. Run `npm run build`

---

## Adding New Blocks

When creating a new block that matches the existing design system:

### 1. Create Block Structure

```bash
blocks/
‚îî‚îÄ‚îÄ your-new-block/
    ‚îú‚îÄ‚îÄ block.json
    ‚îú‚îÄ‚îÄ index.js
    ‚îú‚îÄ‚îÄ render.php
    ‚îú‚îÄ‚îÄ style.css
    ‚îî‚îÄ‚îÄ editor.css
```

### 2. Use Consistent Class Names

```css
/* style.css */

/* Use tascom- prefix */
.tascom-your-block { }

/* Follow naming patterns */
.section-header { }
.section-eyebrow { }
.section-title { }
.section-desc { }
```

### 3. Apply Common Patterns

**Section Header:**
```javascript
// index.js
<div className="section-header center">
  <p className="section-eyebrow">{eyebrow}</p>
  <h2 className="section-title">{title}</h2>
  <p className="section-desc">{description}</p>
</div>
```

**Container:**
```javascript
<section className="section">
  <div className="container">
    {/* Your content */}
  </div>
</section>
```

### 4. Use Consistent Colors

```javascript
// Default color attributes
{
  "primaryColor": {
    "type": "string",
    "default": "#2563eb"
  },
  "successColor": {
    "type": "string",
    "default": "#10b981"
  },
  "errorColor": {
    "type": "string",
    "default": "#ef4444"
  }
}
```

### 5. Register in BlockManager.php

```php
// src/Blocks/BlockManager.php

public function register_blocks() {
    // ... existing blocks

    // Register your new block
    register_block_type(
        $this->blocks_dir . 'your-new-block',
        ['render_callback' => [$this, 'render_your_new_block']]
    );
}

public function render_your_new_block($attributes, $content, $block) {
    ob_start();
    include $this->blocks_dir . 'your-new-block/render.php';
    return ob_get_clean();
}
```

### 6. Add Build Script

```json
// package.json
{
  "scripts": {
    "build": "npm run build:hero && ... && npm run build:your-block",
    "build:your-block": "wp-scripts build blocks/your-new-block/index.js --output-path=blocks/your-new-block/build"
  }
}
```

---

## Best Practices

### 1. Color Consistency

**DO:**
```css
/* Use consistent blue across all blocks */
.price-highlight {
  color: #2563eb;
}
```

**DON'T:**
```css
/* Don't introduce random colors */
.price-highlight {
  color: #4a90e2;  /* ‚ùå Not in our palette */
}
```

### 2. Spacing Consistency

**DO:**
```css
/* Use consistent spacing values */
.card {
  padding: 28px;
  margin-bottom: 20px;
  gap: 16px;
}
```

**DON'T:**
```css
/* Don't use random values */
.card {
  padding: 27px;     /* ‚ùå Not a standard value */
  margin-bottom: 19px;  /* ‚ùå Use 20px instead */
}
```

### 3. Typography Consistency

**DO:**
```css
/* Use Instrument Serif for titles */
.section-title {
  font-family: 'Instrument Serif', Georgia, serif;
  font-size: 36px;
}
```

**DON'T:**
```css
/* Don't mix fonts randomly */
.section-title {
  font-family: 'Comic Sans';  /* ‚ùå Never do this */
}
```

### 4. Responsive Design

**DO:**
```css
/* Always add mobile breakpoints */
.grid {
  grid-template-columns: repeat(4, 1fr);
}

@media (max-width: 1024px) {
  .grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 640px) {
  .grid {
    grid-template-columns: 1fr;
  }
}
```

**DON'T:**
```css
/* Don't forget mobile styles */
.grid {
  grid-template-columns: repeat(4, 1fr);
  /* ‚ùå No mobile breakpoints */
}
```

### 5. PHP Security

**DO:**
```php
/* Always sanitize output */
<h2><?php echo esc_html($title); ?></h2>
<div style="color: <?php echo esc_attr($color); ?>;">
```

**DON'T:**
```php
/* Never output unsanitized data */
<h2><?php echo $title; ?></h2>  /* ‚ùå XSS vulnerability */
```

### 6. Inline Styles for Custom Colors

**DO:**
```php
/* Use inline styles for user-customizable colors */
<span style="color: <?php echo esc_attr($custom_color); ?>;">
```

**DON'T:**
```php
/* Don't hardcode colors in PHP */
<span style="color: #2563eb;">  /* ‚ùå Use CSS or attributes */
```

---

## Testing Checklist

Before pushing changes:

- [ ] All blocks build without errors (`npm run build`)
- [ ] Styles look consistent across all blocks
- [ ] Responsive design works (mobile, tablet, desktop)
- [ ] Colors match the design system
- [ ] Spacing is consistent
- [ ] No console errors in browser
- [ ] Works in both editor and frontend
- [ ] No PHP errors or warnings
- [ ] All user inputs are sanitized

---

## Common Issues & Solutions

### Issue: Styles Not Updating

**Solution:**
```bash
# 1. Rebuild
npm run build

# 2. Clear WordPress cache
# 3. Hard refresh browser (Cmd+Shift+R)

# 4. If still not working, clear node cache
rm -rf node_modules package-lock.json
npm install
npm run build
```

### Issue: Inconsistent Colors Across Blocks

**Solution:**
1. Create a spreadsheet of all color values used
2. Find & replace to standardize colors across all `style.css` files
3. Rebuild all blocks

### Issue: Block Not Showing in Editor

**Solution:**
```bash
# 1. Check BlockManager.php registration
# 2. Check block.json syntax
# 3. Rebuild block
npm run build:yourblock

# 4. Check browser console for errors
```

---

## Quick Reference

### Standard Colors
- Primary Blue: `#2563eb`
- Success Green: `#10b981`
- Error Red: `#ef4444`
- Gray Text: `#64748b`
- Dark Gray: `#1f2937`

### Standard Spacing
- XS: `8px`
- SM: `12px`
- MD: `16px`
- LG: `20px`
- XL: `24px`
- 2XL: `32px`

### Standard Border Radius
- SM: `4px`
- MD: `8px`
- LG: `12px`

### Breakpoints
- Mobile: `640px`
- Tablet: `768px`
- Desktop: `1024px`
- Large: `1200px`

---

## Contact

For questions or clarifications, contact the Taskip development team.

**Happy Coding! üöÄ**
